<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>React Tutorial: localStorage y Context API</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        html, body {height:100%; margin:0;}
        body {display:flex; flex-direction:column;}
        main {flex:1 0 auto;}
        footer {flex-shrink:0;}
        .editor {background:#0b1220; color:#e6eef8; padding:1rem; border-radius:10px}
        /* Header shared styles (from index) */
        header { overflow: visible; padding-top: env(safe-area-inset-top); }
        :root { --header-offset: 9.5rem; }
        .logo-wrap { display:flex; align-items:center; gap:0.75rem; }
        .logo-circle { border-radius:9999px; background:rgba(255,255,255,0.08); display:flex; align-items:center; justify-content:center; }
        .logo-circle { padding:0.5rem; width:64px; height:64px; }
        .brand-title { font-size:1.375rem; }
        .brand-sub { font-size:0.875rem; }
        @media(min-width:640px){ .logo-circle { padding:0.75rem; width:80px; height:80px; } .brand-title { font-size:1.75rem; } .brand-sub { font-size:0.95rem; } }
        @media(min-width:1024px){ .logo-circle { padding:1rem; width:96px; height:96px; } .brand-title { font-size:2.25rem; } .brand-sub { font-size:1rem; } }
    </style>
</head>
<body class="bg-gray-100 font-sans">
<!-- Unified header with lesson title -->
<header class="bg-gradient-to-r from-blue-700 via-cyan-600 to-indigo-700 text-white py-8 sm:py-12 md:py-16 lg:py-20 sticky top-0 z-50 shadow-lg">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
            <div class="logo-wrap animate-fade-in-down">
                <div class="logo-circle">
                    <i class="fab fa-react text-cyan-200" style="font-size:2rem"></i>
                </div>
                <div>
                    <div class="brand-title font-extrabold leading-tight">Curso de Frontend - Desarrollo de software</div>
                    <p class="brand-sub mt-1 text-cyan-100/90">Guía práctica — Arle Morales Ortiz</p>
                </div>
            </div>

            <div class="text-right">
                <h1 class="text-2xl md:text-4xl font-extrabold">7. localStorage y Context API</h1>
                <div class="mt-2">
                    <a href="/src/index.html#topics" class="inline-flex items-center gap-2 bg-white shadow-sm text-blue-700 px-3 py-2 rounded-full text-sm md:text-base hover:brightness-95 focus-ring" aria-label="Ver temas">
                        <i class="fa-solid fa-book-open"></i>
                        <span>Ver Temas</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</header>

<main class="container mx-auto px-4 py-8 section-offset">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
        <!-- TOC -->
        <aside class="lg:col-span-3">
            <div class="bg-white rounded-2xl shadow p-4 sticky top-6 toc">
                <h3 class="font-semibold text-blue-800 mb-3 flex items-center gap-2">
                    <i class="fa-solid fa-list-check"></i> Temas
                </h3>
                <nav class="flex flex-col gap-2 text-sm">
                    <a class="px-3 py-2 rounded-lg hover:bg-blue-50" href="#localstorage"><i class="fa-solid fa-database mr-2"></i>localStorage / sessionStorage</a>
                    <a class="px-3 py-2 rounded-lg hover:bg-blue-50" href="#context"><i class="fa-solid fa-circle-nodes mr-2"></i>Context API</a>
                    <a class="px-3 py-2 rounded-lg hover:bg-blue-50" href="#ejemplo"><i class="fa-solid fa-layer-group mr-2"></i>Proyecto ejemplo</a>
                </nav>
            </div>
        </aside>

        <!-- Content -->
        <section class="lg:col-span-9 space-y-10">

            <!-- localStorage / sessionStorage -->
            <article id="localstorage" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-semibold text-blue-800 mb-4 flex items-center gap-3">
                    <i class="fa-solid fa-database"></i> localStorage y sessionStorage
                </h2>
                <p class="text-gray-700 mb-4">
                    <strong>¿Qué son?</strong> Permiten guardar datos en el navegador. <b>localStorage</b> persiste tras cerrar la pestaña; <b>sessionStorage</b> se borra al cerrar la pestaña.
                </p>
                <p class="text-gray-700 mb-4">
                    <strong>¿Cómo se usan?</strong> Con <code>setItem</code> y <code>getItem</code> para guardar y leer datos.
                </p>
                <div class="codecard editor-bg rounded-xl p-4 mb-2">
                    <div class="editor-code">
                        <span class="com">// src/LocalStorageDemo.jsx</span><br>
                        <span class="kw">import</span> <span class="tag">{ useState }</span> <span class="kw">from</span> <span class="str">"react"</span>;<br><br>
                        <span class="kw">export default function</span> <span class="fn">LocalStorageDemo</span>() {<br>
                        &nbsp;&nbsp;<span class="kw">const</span> [<span class="var">nombre</span>, <span class="var">setNombre</span>] = <span class="fn">useState</span>(<span class="tag">localStorage</span>.getItem(<span class="str">"nombre"</span>) || <span class="str">""</span>);<br><br>
                        &nbsp;&nbsp;<span class="kw">const</span> <span class="fn">guardar</span> = () =&gt; {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">localStorage</span>.setItem(<span class="str">"nombre"</span>, <span class="var">nombre</span>);<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="fn">alert</span>(<span class="str">"¡Nombre guardado!"</span>);<br>
                        &nbsp;&nbsp;};<br><br>
                        &nbsp;&nbsp;<span class="kw">return</span> (<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;div</span> <span class="attr">className</span>=<span class="str">"flex flex-col gap-3"</span><span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;input</span>
                        <span class="attr">className</span>=<span class="str">"border rounded px-3 py-2"</span>
                        <span class="attr">value</span>=<span class="var">{nombre}</span>
                        <span class="attr">onChange</span>=<span class="fn">{e =&gt; setNombre(e.target.value)}</span>
                        <span class="attr">placeholder</span>=<span class="str">"Escribe tu nombre"</span>
                        <span class="tag">/&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;button</span>
                        <span class="attr">className</span>=<span class="str">"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2"</span>
                        <span class="attr">onClick</span>=<span class="fn">{guardar}</span>
                        <span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;i</span> <span class="attr">className</span>=<span class="str">"fa-solid fa-floppy-disk"</span><span class="tag">&gt;&lt;/i&gt;</span> Guardar en localStorage<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/button&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/div&gt;</span><br>
                        &nbsp;&nbsp;);<br>
                        }
                    </div>
                </div>
                <p class="text-gray-700 mt-2">
                    <i class="fa-solid fa-lightbulb text-yellow-400"></i> Cambia <code>localStorage</code> por <code>sessionStorage</code> para guardar solo por sesión.
                </p>
                <p class="text-gray-700 mt-2">
                    <b>Explicación:</b>
                <ul class="list-disc pl-6">
                    <li><span class="font-mono text-blue-700">useState</span> inicializa el estado con el valor guardado en localStorage.</li>
                    <li>La función <span class="font-mono text-pink-600">guardar</span> almacena el nombre y muestra un mensaje.</li>
                    <li>El input permite escribir el nombre y el botón lo guarda en el navegador.</li>
                </ul>
                </p>
            </article>

            <!-- Context API -->
            <article id="context" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-semibold text-purple-800 mb-4 flex items-center gap-3">
                    <i class="fa-solid fa-circle-nodes"></i> Context API en React
                </h2>
                <p class="text-gray-700 mb-4">
                    <strong>¿Qué es?</strong> Permite compartir datos (estados, funciones) entre componentes sin pasar props manualmente.
                </p>
                <div class="codecard editor-bg rounded-xl p-4 mb-2">
                    <div class="editor-code">
                        <span class="com">// src/UserContext.jsx</span><br>
                        <span class="kw">import</span> <span class="tag">{ createContext, useContext, useState }</span> <span class="kw">from</span> <span class="str">"react"</span>;<br><br>
                        <span class="kw">const</span> <span class="var">UserContext</span> = <span class="fn">createContext</span>();<br><br>
                        <span class="kw">export function</span> <span class="fn">UserProvider</span>(<span class="var">{ children }</span>) {<br>
                        &nbsp;&nbsp;<span class="kw">const</span> [<span class="var">nombre</span>, <span class="var">setNombre</span>] = <span class="fn">useState</span>(<span class="str">""</span>);<br>
                        &nbsp;&nbsp;<span class="kw">return</span> (<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;UserContext.Provider</span> <span class="attr">value</span>=<span class="tag">{{ nombre, setNombre }}</span><span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="var">{children}</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/UserContext.Provider&gt;</span><br>
                        &nbsp;&nbsp;);<br>
                        }<br><br>
                        <span class="kw">export function</span> <span class="fn">useUser</span>() {<br>
                        &nbsp;&nbsp;<span class="kw">return</span> <span class="fn">useContext</span>(<span class="var">UserContext</span>);<br>
                        }
                    </div>
                </div>
                <p class="text-gray-700 mt-2">
                    <b>Explicación:</b>
                <ul class="list-disc pl-6">
                    <li><span class="font-mono text-blue-700">createContext</span> crea el contexto global.</li>
                    <li><span class="font-mono text-pink-600">UserProvider</span> envuelve la app y comparte el estado <span class="font-mono text-green-600">nombre</span>.</li>
                    <li><span class="font-mono text-pink-600">useUser</span> es un hook para acceder al contexto desde cualquier componente.</li>
                </ul>
                </p>
                <div class="codecard editor-bg rounded-xl p-4 mt-4">
                    <div class="editor-code">
                        <span class="com">// src/UserForm.jsx</span><br>
                        <span class="kw">import</span> <span class="tag">{ useUser }</span> <span class="kw">from</span> <span class="str">"./UserContext"</span>;<br><br>
                        <span class="kw">export default function</span> <span class="fn">UserForm</span>() {<br>
                        &nbsp;&nbsp;<span class="kw">const</span> { <span class="var">nombre</span>, <span class="var">setNombre</span> } = <span class="fn">useUser</span>();<br>
                        &nbsp;&nbsp;<span class="kw">return</span> (<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;div&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;input</span>
                        <span class="attr">value</span>=<span class="var">{nombre}</span>
                        <span class="attr">onChange</span>=<span class="fn">{e =&gt; setNombre(e.target.value)}</span>
                        <span class="attr">placeholder</span>=<span class="str">"Nombre de usuario"</span>
                        <span class="attr">className</span>=<span class="str">"border rounded px-3 py-2"</span>
                        <span class="tag">/&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;p</span> <span class="attr">className</span>=<span class="str">"mt-2 text-blue-700 flex items-center gap-2"</span><span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;i</span> <span class="attr">className</span>=<span class="str">"fa-solid fa-user"</span><span class="tag">&gt;&lt;/i&gt;</span> Hola, {nombre || "invitado"}<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/p&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/div&gt;</span><br>
                        &nbsp;&nbsp;);<br>
                        }
                    </div>
                </div>
                <p class="text-gray-700 mt-2">
                    <b>Explicación:</b>
                <ul class="list-disc pl-6">
                    <li>El input actualiza el nombre en el contexto global.</li>
                    <li>El saludo se actualiza automáticamente en todos los componentes que usan el contexto.</li>
                </ul>
                </p>
            </article>

            <!-- Proyecto ejemplo -->
            <article id="ejemplo" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-semibold text-blue-800 mb-4 flex items-center gap-3">
                    <i class="fa-solid fa-layer-group"></i> Proyecto ejemplo: Context y localStorage
                </h2>
                <p class="text-gray-700 mb-4">
                    Combina ambos conceptos en una sola aplicación React.
                </p>
                <div class="codecard editor-bg rounded-xl p-4 mb-2">
                    <div class="editor-code">
                        <span class="com">// src/App.jsx</span><br>
                        <span class="kw">import</span> <span class="tag">UserForm</span> <span class="kw">from</span> <span class="str">"./UserForm"</span>;<br>
                        <span class="kw">import</span> <span class="tag">LocalStorageDemo</span> <span class="kw">from</span> <span class="str">"./LocalStorageDemo"</span>;<br><br>
                        <span class="kw">export default function</span> <span class="fn">App</span>() {<br>
                        &nbsp;&nbsp;<span class="kw">return</span> (<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;div</span> <span class="attr">className</span>=<span class="str">"max-w-xl mx-auto mt-10 space-y-8"</span><span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;h1</span> <span class="attr">className</span>=<span class="str">"text-3xl font-bold text-blue-800 flex items-center gap-2"</span><span class="tag">&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;i</span> <span class="attr">className</span>=<span class="str">"fa-solid fa-layer-group"</span><span class="tag">&gt;&lt;/i&gt;</span> Demo Context & LocalStorage<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/h1&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;UserForm /&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;LocalStorageDemo /&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;/div&gt;</span><br>
                        &nbsp;&nbsp;);<br>
                        }
                    </div>
                </div>
                <div class="codecard editor-bg rounded-xl p-4 mt-4">
                    <div class="editor-code">
                        <span class="com">// src/main.jsx</span><br>
                        <span class="kw">import</span> <span class="tag">React</span> <span class="kw">from</span> <span class="str">"react"</span>;<br>
                        <span class="kw">import</span> <span class="tag">ReactDOM</span> <span class="kw">from</span> <span class="str">"react-dom/client"</span>;<br>
                        <span class="kw">import</span> <span class="tag">App</span> <span class="kw">from</span> <span class="str">"./App"</span>;<br>
                        <span class="kw">import</span> <span class="tag">{ UserProvider }</span> <span class="kw">from</span> <span class="str">"./UserContext"</span>;<br>
                        <span class="kw">import</span> <span class="str">"./index.css"</span>; <span class="com">// Tailwind import</span><br><br>
                        <span class="fn">ReactDOM.createRoot</span>(document.getElementById(<span class="str">"root"</span>)).render(<br>
                        &nbsp;&nbsp;<span class="tag">&lt;UserProvider&gt;</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="tag">&lt;App /&gt;</span><br>
                        &nbsp;&nbsp;<span class="tag">&lt;/UserProvider&gt;</span><br>
                        );
                    </div>
                </div>
                <p class="text-gray-700 mt-2">
                    <b>Explicación:</b>
                <ul class="list-disc pl-6">
                    <li>La app se envuelve en <span class="font-mono text-pink-600">UserProvider</span> para compartir el contexto.</li>
                    <li>Se importan los componentes y estilos necesarios.</li>
                    <li>El diseño es responsivo y moderno.</li>
                </ul>
                </p>
            </article>
        </section>
    </div>
</main>

<!-- Unified footer -->
<footer class="bg-slate-900 text-white py-6">
    <div class="container mx-auto px-4 text-center">
        <p class="text-sm">&copy; 2025  Armenia, Quindío - Arle Morales Ortiz.</p>
        <p class="text-xs text-slate-400 mt-1">Hecho con ❤️ — Mejoras de accesibilidad, animaciones y usabilidad.</p>
    </div>
</footer>
<script src="./vendor/header-offset.js"></script>
</body>
</html>
